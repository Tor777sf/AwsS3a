<!DOCTYPE html>
<html lang="es">
<head>
    <title>Registro en AWS Cognito</title>
    <script src="https://cdn.jsdelivr.net/npm/@aws-sdk/client-cognito-identity-provider@latest"></script>
    <script>
        async function registerUser() {
            try {
                var email = document.getElementById('username').value;
                var password = document.getElementById('password').value;

                if (!email || !password) {
                    showError("Por favor ingresa un email y una contraseña.");
                    return;
                }

                const client = new AWS.CognitoIdentityProviderClient({ region: "us-east-2" });
                const command = new AWS.SignUpCommand({
                    ClientId: "6f72bgsojk3preqk9ruc8nnsbv",
                    Username: email,
                    Password: password,
                    UserAttributes: [{ Name: "email", Value: email }]
                });

                const response = await client.send(command);
                showSuccess("Registro exitoso! Verifica tu email.");
                console.log("Usuario creado:", response);

            } catch (error) {
                showError("Error al registrar usuario: " + error.message);
                console.error("Error en Cognito:", error);
            }
        }

        function showError(message) {
            alert(message);
            document.getElementById('statusMessage').innerText = message;
            document.getElementById('statusMessage').style.color = "red";
        }

        function showSuccess(message) {
            alert(message);
            document.getElementById('statusMessage').innerText = message;
            document.getElementById('statusMessage').style.color = "green";
        }
    </script>
</head>
<body>
    <h1>Registro de Usuario</h1>
    <input type="text" id="username" placeholder="Email">
    <input type="password" id="password" placeholder="Contraseña">
    <button onclick="registerUser()">Registrarse</button>
    
    <h3>Estado:</h3>
    <p id="statusMessage"></p>
</body>
</html>
